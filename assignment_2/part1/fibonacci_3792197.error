2017-11-28 02:11:24.717948: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:11:25.032509: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:11:25.263779: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:11:25.263897: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:11:25.263938: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:11:25.263952: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:11:25.263960: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:11:25.263985: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:11:25.263997: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:13:14.363480: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:13:14.672166: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:13:14.903114: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:13:14.903234: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:13:14.903273: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:13:14.903287: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:13:14.903295: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:13:14.903319: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:13:14.903332: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:15:25.937570: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:15:26.252715: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:15:26.481897: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:15:26.482012: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:15:26.482053: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:15:26.482067: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:15:26.482075: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:15:26.482099: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:15:26.482122: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:17:58.296021: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:17:58.611406: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:17:58.843076: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:17:58.843190: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:17:58.843230: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:17:58.843243: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:17:58.843251: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:17:58.843275: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:17:58.843287: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:18:10.061676: W tensorflow/core/common_runtime/bfc_allocator.cc:273] Allocator (GPU_0_bfc) ran out of memory trying to allocate 5.19GiB.  Current allocation summary follows.
2017-11-28 02:18:10.061750: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (256): 	Total Chunks: 21, Chunks in use: 21. 5.2KiB allocated for chunks. 5.2KiB in use in bin. 264B client-requested in use in bin.
2017-11-28 02:18:10.061765: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (512): 	Total Chunks: 13, Chunks in use: 13. 6.5KiB allocated for chunks. 6.5KiB in use in bin. 6.5KiB client-requested in use in bin.
2017-11-28 02:18:10.061776: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1024): 	Total Chunks: 1, Chunks in use: 1. 1.2KiB allocated for chunks. 1.2KiB in use in bin. 1.0KiB client-requested in use in bin.
2017-11-28 02:18:10.061786: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2048): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061799: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4096): 	Total Chunks: 5, Chunks in use: 5. 25.0KiB allocated for chunks. 25.0KiB in use in bin. 25.0KiB client-requested in use in bin.
2017-11-28 02:18:10.061809: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8192): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061818: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16384): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061828: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (32768): 	Total Chunks: 1, Chunks in use: 0. 60.5KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061840: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (65536): 	Total Chunks: 6, Chunks in use: 6. 384.0KiB allocated for chunks. 384.0KiB in use in bin. 384.0KiB client-requested in use in bin.
2017-11-28 02:18:10.061850: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (131072): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061869: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (262144): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061879: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (524288): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061888: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1048576): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061899: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2097152): 	Total Chunks: 1, Chunks in use: 1. 2.44MiB allocated for chunks. 2.44MiB in use in bin. 2.44MiB client-requested in use in bin.
2017-11-28 02:18:10.061908: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4194304): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061917: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8388608): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061926: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16777216): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061936: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (33554432): 	Total Chunks: 1, Chunks in use: 0. 41.50MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061945: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (67108864): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061955: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (134217728): 	Total Chunks: 36, Chunks in use: 35. 5.53GiB allocated for chunks. 5.34GiB in use in bin. 5.34GiB client-requested in use in bin.
2017-11-28 02:18:10.061965: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (268435456): 	Total Chunks: 1, Chunks in use: 0. 4.97GiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:10.061975: I tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin for 5.19GiB was 256.00MiB, Chunk State: 
2017-11-28 02:18:10.061992: I tensorflow/core/common_runtime/bfc_allocator.cc:649]   Size: 4.97GiB | Requested Size: 1.22MiB | in_use: 0, prev:   Size: 156.25MiB | Requested Size: 156.25MiB | in_use: 1
2017-11-28 02:18:10.062004: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740000 of size 1280
2017-11-28 02:18:10.062012: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740500 of size 256
2017-11-28 02:18:10.062020: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740600 of size 256
2017-11-28 02:18:10.062027: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740700 of size 256
2017-11-28 02:18:10.062034: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740800 of size 256
2017-11-28 02:18:10.062041: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740900 of size 256
2017-11-28 02:18:10.062048: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740a00 of size 256
2017-11-28 02:18:10.062056: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740b00 of size 512
2017-11-28 02:18:10.062063: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740d00 of size 256
2017-11-28 02:18:10.062070: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740e00 of size 512
2017-11-28 02:18:10.062077: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741000 of size 512
2017-11-28 02:18:10.062089: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741200 of size 65536
2017-11-28 02:18:10.062097: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b751200 of size 65536
2017-11-28 02:18:10.062104: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b761200 of size 5120
2017-11-28 02:18:10.062111: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b762600 of size 5120
2017-11-28 02:18:10.062119: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763a00 of size 512
2017-11-28 02:18:10.062126: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763c00 of size 256
2017-11-28 02:18:10.062133: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763d00 of size 5120
2017-11-28 02:18:10.062140: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765100 of size 256
2017-11-28 02:18:10.062147: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765200 of size 256
2017-11-28 02:18:10.062154: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765300 of size 256
2017-11-28 02:18:10.062161: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765400 of size 256
2017-11-28 02:18:10.062168: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765500 of size 256
2017-11-28 02:18:10.062175: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765600 of size 256
2017-11-28 02:18:10.062182: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765700 of size 512
2017-11-28 02:18:10.062189: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765900 of size 512
2017-11-28 02:18:10.062196: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765b00 of size 512
2017-11-28 02:18:10.062203: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765d00 of size 256
2017-11-28 02:18:10.062210: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765e00 of size 256
2017-11-28 02:18:10.062217: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765f00 of size 256
2017-11-28 02:18:10.062227: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766000 of size 256
2017-11-28 02:18:10.062234: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775300 of size 512
2017-11-28 02:18:10.062241: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775500 of size 256
2017-11-28 02:18:10.062248: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775600 of size 512
2017-11-28 02:18:10.062255: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775800 of size 512
2017-11-28 02:18:10.062262: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775a00 of size 65536
2017-11-28 02:18:10.062269: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b785a00 of size 65536
2017-11-28 02:18:10.062276: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b795a00 of size 5120
2017-11-28 02:18:10.062283: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b796e00 of size 5120
2017-11-28 02:18:10.062290: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798200 of size 512
2017-11-28 02:18:10.062297: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798400 of size 512
2017-11-28 02:18:10.062304: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798600 of size 256
2017-11-28 02:18:10.062311: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798700 of size 256
2017-11-28 02:18:10.062318: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798800 of size 512
2017-11-28 02:18:10.062325: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798a00 of size 65536
2017-11-28 02:18:10.062332: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7a8a00 of size 65536
2017-11-28 02:18:10.062343: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7b8a00 of size 163840000
2017-11-28 02:18:10.062351: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b17d79a00 of size 2560000
2017-11-28 02:18:10.062359: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b245aba00 of size 163840000
2017-11-28 02:18:10.062366: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b2e1eba00 of size 163840000
2017-11-28 02:18:10.062373: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b37e2ba00 of size 163840000
2017-11-28 02:18:10.062380: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b41a6ba00 of size 163840000
2017-11-28 02:18:10.062387: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b4b6aba00 of size 163840000
2017-11-28 02:18:10.062394: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b552eba00 of size 163840000
2017-11-28 02:18:10.062401: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b5ef2ba00 of size 163840000
2017-11-28 02:18:10.062408: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b68b6ba00 of size 163840000
2017-11-28 02:18:10.062415: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b727aba00 of size 163840000
2017-11-28 02:18:10.062422: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b7c3eba00 of size 163840000
2017-11-28 02:18:10.062429: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b8602ba00 of size 163840000
2017-11-28 02:18:10.062436: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b8fc6ba00 of size 163840000
2017-11-28 02:18:10.062444: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b998aba00 of size 163840000
2017-11-28 02:18:10.062451: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ba34eba00 of size 163840000
2017-11-28 02:18:10.062458: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bad12ba00 of size 163840000
2017-11-28 02:18:10.062465: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bb6d6ba00 of size 163840000
2017-11-28 02:18:10.062472: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bc09aba00 of size 163840000
2017-11-28 02:18:10.062479: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bca5eba00 of size 163840000
2017-11-28 02:18:10.062486: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bd422ba00 of size 163840000
2017-11-28 02:18:10.062493: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bdde6ba00 of size 163840000
2017-11-28 02:18:10.062500: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1be7aaba00 of size 163840000
2017-11-28 02:18:10.062507: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bf16eba00 of size 163840000
2017-11-28 02:18:10.062514: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bfb32ba00 of size 163840000
2017-11-28 02:18:10.062521: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c04f6ba00 of size 163840000
2017-11-28 02:18:10.062528: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c0ebaba00 of size 163840000
2017-11-28 02:18:10.062535: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c187eba00 of size 163840000
2017-11-28 02:18:10.062542: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c2242ba00 of size 163840000
2017-11-28 02:18:10.062549: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c2c06ba00 of size 163840000
2017-11-28 02:18:10.062556: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c35caba00 of size 163840000
2017-11-28 02:18:10.062564: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c3f8eba00 of size 163840000
2017-11-28 02:18:10.062571: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c4952ba00 of size 163840000
2017-11-28 02:18:10.062585: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5316ba00 of size 163840000
2017-11-28 02:18:10.062593: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5cdaba00 of size 163840000
2017-11-28 02:18:10.062600: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c669eba00 of size 163840000
2017-11-28 02:18:10.062608: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b0b766100 of size 61952
2017-11-28 02:18:10.062615: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b153f8a00 of size 43520000
2017-11-28 02:18:10.062629: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b17feaa00 of size 207360000
2017-11-28 02:18:10.062638: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1c7062ba00 of size 5335618048
2017-11-28 02:18:10.062645: I tensorflow/core/common_runtime/bfc_allocator.cc:676]      Summary of in-use Chunks by size: 
2017-11-28 02:18:10.062656: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 21 Chunks of size 256 totalling 5.2KiB
2017-11-28 02:18:10.062666: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 13 Chunks of size 512 totalling 6.5KiB
2017-11-28 02:18:10.062675: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 1280 totalling 1.2KiB
2017-11-28 02:18:10.062684: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 5 Chunks of size 5120 totalling 25.0KiB
2017-11-28 02:18:10.062693: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 6 Chunks of size 65536 totalling 384.0KiB
2017-11-28 02:18:10.062702: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 2560000 totalling 2.44MiB
2017-11-28 02:18:10.062711: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 35 Chunks of size 163840000 totalling 5.34GiB
2017-11-28 02:18:10.062720: I tensorflow/core/common_runtime/bfc_allocator.cc:683] Sum Total of in-use chunks: 5.34GiB
2017-11-28 02:18:10.062732: I tensorflow/core/common_runtime/bfc_allocator.cc:685] Stats: 
Limit:                 11323952333
InUse:                  5737392128
MaxInUse:               5902512128
NumAllocs:                     555
MaxAllocSize:            163840000

2017-11-28 02:18:10.062747: W tensorflow/core/common_runtime/bfc_allocator.cc:277] **_**************************************************_______________________________________________
2017-11-28 02:18:10.062770: W tensorflow/core/framework/op_kernel.cc:1192] Resource exhausted: OOM when allocating tensor with shape[34,320000,128]
Traceback (most recent call last):
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1323, in _do_call
    return fn(*args)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1302, in _run_fn
    status, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py", line 473, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[34,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 123, in train
    accuracy_value = sess.run(accuracy, feed_dict=feed_dict)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 889, in run
    run_metadata_ptr)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1120, in _run
    feed_dict_tensor, options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1317, in _do_run
    options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1336, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[34,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'scan_1/TensorArrayStack/TensorArrayGatherV3', defined at:
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 74, in train
    logits_test = model.compute_logits_test(input_placeholder, config.batch_size*config.train_steps)
  File "/nfs/home6/sdemo133/deep_lerning/assignment_2/part1/vanilla_rnn.py", line 74, in compute_logits_test
    states = tf.scan(self._rnn_step, x, initializer=init_state)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in scan
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in <listcomp>
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 335, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 361, in gather
    element_shape=element_shape)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4158, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 2956, in create_op
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 1470, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

ResourceExhaustedError (see above for traceback): OOM when allocating tensor with shape[34,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

2017-11-28 02:18:42.957821: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:18:43.272615: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:18:43.504017: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:18:43.504135: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:18:43.504175: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:18:43.504189: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:18:43.504197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:18:43.504220: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:18:43.504232: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:18:54.748139: W tensorflow/core/common_runtime/bfc_allocator.cc:273] Allocator (GPU_0_bfc) ran out of memory trying to allocate 5.95GiB.  Current allocation summary follows.
2017-11-28 02:18:54.748435: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (256): 	Total Chunks: 21, Chunks in use: 21. 5.2KiB allocated for chunks. 5.2KiB in use in bin. 264B client-requested in use in bin.
2017-11-28 02:18:54.748454: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (512): 	Total Chunks: 13, Chunks in use: 13. 6.5KiB allocated for chunks. 6.5KiB in use in bin. 6.5KiB client-requested in use in bin.
2017-11-28 02:18:54.748466: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1024): 	Total Chunks: 1, Chunks in use: 1. 1.2KiB allocated for chunks. 1.2KiB in use in bin. 1.0KiB client-requested in use in bin.
2017-11-28 02:18:54.748476: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2048): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748489: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4096): 	Total Chunks: 5, Chunks in use: 5. 25.0KiB allocated for chunks. 25.0KiB in use in bin. 25.0KiB client-requested in use in bin.
2017-11-28 02:18:54.748498: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8192): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748507: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16384): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748518: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (32768): 	Total Chunks: 1, Chunks in use: 0. 60.5KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748529: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (65536): 	Total Chunks: 6, Chunks in use: 6. 384.0KiB allocated for chunks. 384.0KiB in use in bin. 384.0KiB client-requested in use in bin.
2017-11-28 02:18:54.748546: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (131072): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748555: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (262144): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748564: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (524288): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748573: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1048576): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748590: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2097152): 	Total Chunks: 1, Chunks in use: 1. 2.44MiB allocated for chunks. 2.44MiB in use in bin. 2.44MiB client-requested in use in bin.
2017-11-28 02:18:54.748600: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4194304): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748609: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8388608): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748618: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16777216): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748643: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (33554432): 	Total Chunks: 1, Chunks in use: 0. 47.61MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748653: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (67108864): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748664: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (134217728): 	Total Chunks: 41, Chunks in use: 40. 6.30GiB allocated for chunks. 6.10GiB in use in bin. 6.10GiB client-requested in use in bin.
2017-11-28 02:18:54.748674: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (268435456): 	Total Chunks: 1, Chunks in use: 0. 4.19GiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:18:54.748684: I tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin for 5.95GiB was 256.00MiB, Chunk State: 
2017-11-28 02:18:54.748701: I tensorflow/core/common_runtime/bfc_allocator.cc:649]   Size: 4.19GiB | Requested Size: 1.22MiB | in_use: 0, prev:   Size: 156.25MiB | Requested Size: 156.25MiB | in_use: 1
2017-11-28 02:18:54.748714: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740000 of size 1280
2017-11-28 02:18:54.748721: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740500 of size 256
2017-11-28 02:18:54.748729: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740600 of size 256
2017-11-28 02:18:54.748736: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740700 of size 256
2017-11-28 02:18:54.748742: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740800 of size 256
2017-11-28 02:18:54.748749: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740900 of size 256
2017-11-28 02:18:54.748756: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740a00 of size 256
2017-11-28 02:18:54.748764: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740b00 of size 512
2017-11-28 02:18:54.748772: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740d00 of size 256
2017-11-28 02:18:54.748779: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740e00 of size 512
2017-11-28 02:18:54.748785: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741000 of size 512
2017-11-28 02:18:54.748793: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741200 of size 65536
2017-11-28 02:18:54.748800: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b751200 of size 65536
2017-11-28 02:18:54.748807: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b761200 of size 5120
2017-11-28 02:18:54.748814: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b762600 of size 5120
2017-11-28 02:18:54.748821: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763a00 of size 512
2017-11-28 02:18:54.748828: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763c00 of size 256
2017-11-28 02:18:54.748839: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763d00 of size 5120
2017-11-28 02:18:54.748846: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765100 of size 256
2017-11-28 02:18:54.748853: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765200 of size 256
2017-11-28 02:18:54.748860: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765300 of size 256
2017-11-28 02:18:54.748867: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765400 of size 256
2017-11-28 02:18:54.748874: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765500 of size 256
2017-11-28 02:18:54.748881: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765600 of size 256
2017-11-28 02:18:54.748888: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765700 of size 512
2017-11-28 02:18:54.748895: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765900 of size 512
2017-11-28 02:18:54.748902: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765b00 of size 512
2017-11-28 02:18:54.748909: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765d00 of size 256
2017-11-28 02:18:54.748916: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765e00 of size 256
2017-11-28 02:18:54.748922: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765f00 of size 256
2017-11-28 02:18:54.748929: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766000 of size 256
2017-11-28 02:18:54.748936: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775300 of size 512
2017-11-28 02:18:54.748943: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775500 of size 256
2017-11-28 02:18:54.748950: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775600 of size 512
2017-11-28 02:18:54.748957: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775800 of size 512
2017-11-28 02:18:54.748964: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775a00 of size 65536
2017-11-28 02:18:54.748971: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b785a00 of size 65536
2017-11-28 02:18:54.748978: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b795a00 of size 5120
2017-11-28 02:18:54.748985: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b796e00 of size 5120
2017-11-28 02:18:54.748992: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798200 of size 512
2017-11-28 02:18:54.748999: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798400 of size 512
2017-11-28 02:18:54.749006: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798600 of size 256
2017-11-28 02:18:54.749012: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798700 of size 256
2017-11-28 02:18:54.749019: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798800 of size 512
2017-11-28 02:18:54.749026: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798a00 of size 65536
2017-11-28 02:18:54.749033: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7a8a00 of size 65536
2017-11-28 02:18:54.749040: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7b8a00 of size 163840000
2017-11-28 02:18:54.749048: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b18394200 of size 2560000
2017-11-28 02:18:54.749055: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b251e0a00 of size 163840000
2017-11-28 02:18:54.749061: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b2ee20a00 of size 163840000
2017-11-28 02:18:54.749068: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b38a60a00 of size 163840000
2017-11-28 02:18:54.749079: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b426a0a00 of size 163840000
2017-11-28 02:18:54.749086: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b4c2e0a00 of size 163840000
2017-11-28 02:18:54.749093: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b55f20a00 of size 163840000
2017-11-28 02:18:54.749100: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b5fb60a00 of size 163840000
2017-11-28 02:18:54.749107: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b697a0a00 of size 163840000
2017-11-28 02:18:54.749113: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b733e0a00 of size 163840000
2017-11-28 02:18:54.749120: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b7d020a00 of size 163840000
2017-11-28 02:18:54.749127: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b86c60a00 of size 163840000
2017-11-28 02:18:54.749134: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b908a0a00 of size 163840000
2017-11-28 02:18:54.749141: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b9a4e0a00 of size 163840000
2017-11-28 02:18:54.749148: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ba4120a00 of size 163840000
2017-11-28 02:18:54.749155: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1badd60a00 of size 163840000
2017-11-28 02:18:54.749162: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bb79a0a00 of size 163840000
2017-11-28 02:18:54.749168: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bc15e0a00 of size 163840000
2017-11-28 02:18:54.749175: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bcb220a00 of size 163840000
2017-11-28 02:18:54.749182: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bd4e60a00 of size 163840000
2017-11-28 02:18:54.749189: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bdeaa0a00 of size 163840000
2017-11-28 02:18:54.749196: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1be86e0a00 of size 163840000
2017-11-28 02:18:54.749203: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bf2320a00 of size 163840000
2017-11-28 02:18:54.749209: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bfbf60a00 of size 163840000
2017-11-28 02:18:54.749216: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c05ba0a00 of size 163840000
2017-11-28 02:18:54.749223: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c0f7e0a00 of size 163840000
2017-11-28 02:18:54.749230: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c19420a00 of size 163840000
2017-11-28 02:18:54.749237: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c23060a00 of size 163840000
2017-11-28 02:18:54.749244: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c2cca0a00 of size 163840000
2017-11-28 02:18:54.749251: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c368e0a00 of size 163840000
2017-11-28 02:18:54.749257: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c40520a00 of size 163840000
2017-11-28 02:18:54.749264: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c4a160a00 of size 163840000
2017-11-28 02:18:54.749271: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c53da0a00 of size 163840000
2017-11-28 02:18:54.749278: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5d9e0a00 of size 163840000
2017-11-28 02:18:54.749285: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c67620a00 of size 163840000
2017-11-28 02:18:54.749292: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c71260a00 of size 163840000
2017-11-28 02:18:54.749299: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c7aea0a00 of size 163840000
2017-11-28 02:18:54.749305: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c84ae0a00 of size 163840000
2017-11-28 02:18:54.749315: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c8e720a00 of size 163840000
2017-11-28 02:18:54.749322: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c98360a00 of size 163840000
2017-11-28 02:18:54.749330: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b0b766100 of size 61952
2017-11-28 02:18:54.749337: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b153f8a00 of size 49920000
2017-11-28 02:18:54.749344: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b18605200 of size 213760000
2017-11-28 02:18:54.749351: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1ca1fa0a00 of size 4503618048
2017-11-28 02:18:54.749358: I tensorflow/core/common_runtime/bfc_allocator.cc:676]      Summary of in-use Chunks by size: 
2017-11-28 02:18:54.749368: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 21 Chunks of size 256 totalling 5.2KiB
2017-11-28 02:18:54.749377: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 13 Chunks of size 512 totalling 6.5KiB
2017-11-28 02:18:54.749386: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 1280 totalling 1.2KiB
2017-11-28 02:18:54.749395: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 5 Chunks of size 5120 totalling 25.0KiB
2017-11-28 02:18:54.749404: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 6 Chunks of size 65536 totalling 384.0KiB
2017-11-28 02:18:54.749413: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 2560000 totalling 2.44MiB
2017-11-28 02:18:54.749421: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 40 Chunks of size 163840000 totalling 6.10GiB
2017-11-28 02:18:54.749431: I tensorflow/core/common_runtime/bfc_allocator.cc:683] Sum Total of in-use chunks: 6.11GiB
2017-11-28 02:18:54.749442: I tensorflow/core/common_runtime/bfc_allocator.cc:685] Stats: 
Limit:                 11323952333
InUse:                  6556592128
MaxInUse:               6721712128
NumAllocs:                     625
MaxAllocSize:            163840000

2017-11-28 02:18:54.749457: W tensorflow/core/common_runtime/bfc_allocator.cc:277] **_**********************************************************_______________________________________
2017-11-28 02:18:54.749479: W tensorflow/core/framework/op_kernel.cc:1192] Resource exhausted: OOM when allocating tensor with shape[39,320000,128]
Traceback (most recent call last):
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1323, in _do_call
    return fn(*args)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1302, in _run_fn
    status, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py", line 473, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[39,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 123, in train
    accuracy_value = sess.run(accuracy, feed_dict=feed_dict)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 889, in run
    run_metadata_ptr)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1120, in _run
    feed_dict_tensor, options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1317, in _do_run
    options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1336, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[39,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'scan_1/TensorArrayStack/TensorArrayGatherV3', defined at:
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 74, in train
    logits_test = model.compute_logits_test(input_placeholder, config.batch_size*config.train_steps)
  File "/nfs/home6/sdemo133/deep_lerning/assignment_2/part1/vanilla_rnn.py", line 74, in compute_logits_test
    states = tf.scan(self._rnn_step, x, initializer=init_state)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in scan
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in <listcomp>
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 335, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 361, in gather
    element_shape=element_shape)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4158, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 2956, in create_op
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 1470, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

ResourceExhaustedError (see above for traceback): OOM when allocating tensor with shape[39,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

2017-11-28 02:19:31.538807: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:19:31.855298: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:19:32.085935: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:19:32.086050: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:19:32.086091: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:19:32.086106: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:19:32.086115: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:19:32.086139: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:19:32.086151: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:19:43.364434: W tensorflow/core/common_runtime/bfc_allocator.cc:273] Allocator (GPU_0_bfc) ran out of memory trying to allocate 6.71GiB.  Current allocation summary follows.
2017-11-28 02:19:43.364637: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (256): 	Total Chunks: 21, Chunks in use: 21. 5.2KiB allocated for chunks. 5.2KiB in use in bin. 264B client-requested in use in bin.
2017-11-28 02:19:43.364655: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (512): 	Total Chunks: 13, Chunks in use: 13. 6.5KiB allocated for chunks. 6.5KiB in use in bin. 6.5KiB client-requested in use in bin.
2017-11-28 02:19:43.364666: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1024): 	Total Chunks: 1, Chunks in use: 1. 1.2KiB allocated for chunks. 1.2KiB in use in bin. 1.0KiB client-requested in use in bin.
2017-11-28 02:19:43.364676: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2048): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364688: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4096): 	Total Chunks: 5, Chunks in use: 5. 25.0KiB allocated for chunks. 25.0KiB in use in bin. 25.0KiB client-requested in use in bin.
2017-11-28 02:19:43.364698: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8192): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364707: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16384): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364717: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (32768): 	Total Chunks: 1, Chunks in use: 0. 60.5KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364729: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (65536): 	Total Chunks: 6, Chunks in use: 6. 384.0KiB allocated for chunks. 384.0KiB in use in bin. 384.0KiB client-requested in use in bin.
2017-11-28 02:19:43.364738: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (131072): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364748: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (262144): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364757: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (524288): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364766: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1048576): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364782: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2097152): 	Total Chunks: 1, Chunks in use: 1. 2.44MiB allocated for chunks. 2.44MiB in use in bin. 2.44MiB client-requested in use in bin.
2017-11-28 02:19:43.364793: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4194304): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364802: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8388608): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364811: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16777216): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364821: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (33554432): 	Total Chunks: 1, Chunks in use: 0. 53.71MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364831: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (67108864): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364841: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (134217728): 	Total Chunks: 46, Chunks in use: 45. 7.07GiB allocated for chunks. 6.87GiB in use in bin. 6.87GiB client-requested in use in bin.
2017-11-28 02:19:43.364851: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (268435456): 	Total Chunks: 1, Chunks in use: 0. 3.42GiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:19:43.364861: I tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin for 6.71GiB was 256.00MiB, Chunk State: 
2017-11-28 02:19:43.364875: I tensorflow/core/common_runtime/bfc_allocator.cc:649]   Size: 3.42GiB | Requested Size: 1.22MiB | in_use: 0, prev:   Size: 156.25MiB | Requested Size: 156.25MiB | in_use: 1
2017-11-28 02:19:43.364886: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740000 of size 1280
2017-11-28 02:19:43.364894: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740500 of size 256
2017-11-28 02:19:43.364902: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740600 of size 256
2017-11-28 02:19:43.364909: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740700 of size 256
2017-11-28 02:19:43.364916: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740800 of size 256
2017-11-28 02:19:43.364924: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740900 of size 256
2017-11-28 02:19:43.364931: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740a00 of size 256
2017-11-28 02:19:43.364939: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740b00 of size 512
2017-11-28 02:19:43.364946: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740d00 of size 256
2017-11-28 02:19:43.364954: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740e00 of size 512
2017-11-28 02:19:43.364961: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741000 of size 512
2017-11-28 02:19:43.364968: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741200 of size 65536
2017-11-28 02:19:43.364976: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b751200 of size 65536
2017-11-28 02:19:43.364984: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b761200 of size 5120
2017-11-28 02:19:43.364991: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b762600 of size 5120
2017-11-28 02:19:43.364998: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763a00 of size 512
2017-11-28 02:19:43.365005: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763c00 of size 256
2017-11-28 02:19:43.365017: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763d00 of size 5120
2017-11-28 02:19:43.365025: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765100 of size 256
2017-11-28 02:19:43.365032: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765200 of size 256
2017-11-28 02:19:43.365039: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765300 of size 256
2017-11-28 02:19:43.365047: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765400 of size 256
2017-11-28 02:19:43.365054: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765500 of size 256
2017-11-28 02:19:43.365061: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765600 of size 256
2017-11-28 02:19:43.365068: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765700 of size 512
2017-11-28 02:19:43.365076: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765900 of size 512
2017-11-28 02:19:43.365083: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765b00 of size 512
2017-11-28 02:19:43.365090: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765d00 of size 256
2017-11-28 02:19:43.365097: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765e00 of size 256
2017-11-28 02:19:43.365104: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765f00 of size 256
2017-11-28 02:19:43.365111: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766000 of size 256
2017-11-28 02:19:43.365119: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775300 of size 512
2017-11-28 02:19:43.365126: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775500 of size 256
2017-11-28 02:19:43.365133: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775600 of size 512
2017-11-28 02:19:43.365140: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775800 of size 512
2017-11-28 02:19:43.365148: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b775a00 of size 65536
2017-11-28 02:19:43.365155: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b785a00 of size 65536
2017-11-28 02:19:43.365162: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b795a00 of size 5120
2017-11-28 02:19:43.365170: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b796e00 of size 5120
2017-11-28 02:19:43.365177: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798200 of size 512
2017-11-28 02:19:43.365184: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798400 of size 512
2017-11-28 02:19:43.365192: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798600 of size 256
2017-11-28 02:19:43.365199: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798700 of size 256
2017-11-28 02:19:43.365206: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798800 of size 512
2017-11-28 02:19:43.365213: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798a00 of size 65536
2017-11-28 02:19:43.365221: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7a8a00 of size 65536
2017-11-28 02:19:43.365228: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7b8a00 of size 163840000
2017-11-28 02:19:43.365236: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b189aea00 of size 2560000
2017-11-28 02:19:43.365243: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b25e15a00 of size 163840000
2017-11-28 02:19:43.365251: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b2fa55a00 of size 163840000
2017-11-28 02:19:43.365258: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b39695a00 of size 163840000
2017-11-28 02:19:43.365265: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b432d5a00 of size 163840000
2017-11-28 02:19:43.365277: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b4cf15a00 of size 163840000
2017-11-28 02:19:43.365284: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b56b55a00 of size 163840000
2017-11-28 02:19:43.365292: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b60795a00 of size 163840000
2017-11-28 02:19:43.365299: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b6a3d5a00 of size 163840000
2017-11-28 02:19:43.365306: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b74015a00 of size 163840000
2017-11-28 02:19:43.365313: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b7dc55a00 of size 163840000
2017-11-28 02:19:43.365321: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b87895a00 of size 163840000
2017-11-28 02:19:43.365328: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b914d5a00 of size 163840000
2017-11-28 02:19:43.365335: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b9b115a00 of size 163840000
2017-11-28 02:19:43.365342: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ba4d55a00 of size 163840000
2017-11-28 02:19:43.365350: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bae995a00 of size 163840000
2017-11-28 02:19:43.365357: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bb85d5a00 of size 163840000
2017-11-28 02:19:43.365364: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bc2215a00 of size 163840000
2017-11-28 02:19:43.365371: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bcbe55a00 of size 163840000
2017-11-28 02:19:43.365378: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bd5a95a00 of size 163840000
2017-11-28 02:19:43.365386: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bdf6d5a00 of size 163840000
2017-11-28 02:19:43.365393: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1be9315a00 of size 163840000
2017-11-28 02:19:43.365400: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bf2f55a00 of size 163840000
2017-11-28 02:19:43.365407: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bfcb95a00 of size 163840000
2017-11-28 02:19:43.365415: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c067d5a00 of size 163840000
2017-11-28 02:19:43.365422: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c10415a00 of size 163840000
2017-11-28 02:19:43.365429: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c1a055a00 of size 163840000
2017-11-28 02:19:43.365436: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c23c95a00 of size 163840000
2017-11-28 02:19:43.365443: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c2d8d5a00 of size 163840000
2017-11-28 02:19:43.365451: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c37515a00 of size 163840000
2017-11-28 02:19:43.365458: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c41155a00 of size 163840000
2017-11-28 02:19:43.365465: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c4ad95a00 of size 163840000
2017-11-28 02:19:43.365472: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c549d5a00 of size 163840000
2017-11-28 02:19:43.365480: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5e615a00 of size 163840000
2017-11-28 02:19:43.365487: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c68255a00 of size 163840000
2017-11-28 02:19:43.365494: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c71e95a00 of size 163840000
2017-11-28 02:19:43.365501: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c7bad5a00 of size 163840000
2017-11-28 02:19:43.365508: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c85715a00 of size 163840000
2017-11-28 02:19:43.365520: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c8f355a00 of size 163840000
2017-11-28 02:19:43.365528: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c98f95a00 of size 163840000
2017-11-28 02:19:43.365535: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ca2bd5a00 of size 163840000
2017-11-28 02:19:43.365543: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cac815a00 of size 163840000
2017-11-28 02:19:43.365550: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cb6455a00 of size 163840000
2017-11-28 02:19:43.365557: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cc0095a00 of size 163840000
2017-11-28 02:19:43.365565: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cc9cd5a00 of size 163840000
2017-11-28 02:19:43.365572: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b0b766100 of size 61952
2017-11-28 02:19:43.365580: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b153f8a00 of size 56320000
2017-11-28 02:19:43.365587: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b18c1fa00 of size 220160000
2017-11-28 02:19:43.365595: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1cd3915a00 of size 3671618048
2017-11-28 02:19:43.365602: I tensorflow/core/common_runtime/bfc_allocator.cc:676]      Summary of in-use Chunks by size: 
2017-11-28 02:19:43.365612: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 21 Chunks of size 256 totalling 5.2KiB
2017-11-28 02:19:43.365622: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 13 Chunks of size 512 totalling 6.5KiB
2017-11-28 02:19:43.365636: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 1280 totalling 1.2KiB
2017-11-28 02:19:43.365646: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 5 Chunks of size 5120 totalling 25.0KiB
2017-11-28 02:19:43.365655: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 6 Chunks of size 65536 totalling 384.0KiB
2017-11-28 02:19:43.365664: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 2560000 totalling 2.44MiB
2017-11-28 02:19:43.365673: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 45 Chunks of size 163840000 totalling 6.87GiB
2017-11-28 02:19:43.365682: I tensorflow/core/common_runtime/bfc_allocator.cc:683] Sum Total of in-use chunks: 6.87GiB
2017-11-28 02:19:43.365694: I tensorflow/core/common_runtime/bfc_allocator.cc:685] Stats: 
Limit:                 11323952333
InUse:                  7375792128
MaxInUse:               7540912128
NumAllocs:                     695
MaxAllocSize:            163840000

2017-11-28 02:19:43.365708: W tensorflow/core/common_runtime/bfc_allocator.cc:277] **_*****************************************************************________________________________
2017-11-28 02:19:43.365725: W tensorflow/core/framework/op_kernel.cc:1192] Resource exhausted: OOM when allocating tensor with shape[44,320000,128]
Traceback (most recent call last):
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1323, in _do_call
    return fn(*args)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1302, in _run_fn
    status, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py", line 473, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[44,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 123, in train
    accuracy_value = sess.run(accuracy, feed_dict=feed_dict)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 889, in run
    run_metadata_ptr)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1120, in _run
    feed_dict_tensor, options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1317, in _do_run
    options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1336, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[44,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]

Caused by op 'scan_1/TensorArrayStack/TensorArrayGatherV3', defined at:
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 74, in train
    logits_test = model.compute_logits_test(input_placeholder, config.batch_size*config.train_steps)
  File "/nfs/home6/sdemo133/deep_lerning/assignment_2/part1/vanilla_rnn.py", line 74, in compute_logits_test
    states = tf.scan(self._rnn_step, x, initializer=init_state)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in scan
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in <listcomp>
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 335, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 361, in gather
    element_shape=element_shape)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4158, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 2956, in create_op
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 1470, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

ResourceExhaustedError (see above for traceback): OOM when allocating tensor with shape[44,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]

2017-11-28 02:20:23.433521: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX
2017-11-28 02:20:23.740430: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:02:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:20:23.968784: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: 
name: Tesla K40m major: 3 minor: 5 memoryClockRate(GHz): 0.745
pciBusID: 0000:82:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2017-11-28 02:20:23.968898: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix
2017-11-28 02:20:23.968949: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 
2017-11-28 02:20:23.968964: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y N 
2017-11-28 02:20:23.968972: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   N Y 
2017-11-28 02:20:23.969007: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K40m, pci bus id: 0000:02:00.0, compute capability: 3.5)
2017-11-28 02:20:23.969020: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: Tesla K40m, pci bus id: 0000:82:00.0, compute capability: 3.5)
2017-11-28 02:20:35.275392: W tensorflow/core/common_runtime/bfc_allocator.cc:273] Allocator (GPU_0_bfc) ran out of memory trying to allocate 7.48GiB.  Current allocation summary follows.
2017-11-28 02:20:35.275728: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (256): 	Total Chunks: 21, Chunks in use: 21. 5.2KiB allocated for chunks. 5.2KiB in use in bin. 264B client-requested in use in bin.
2017-11-28 02:20:35.275746: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (512): 	Total Chunks: 13, Chunks in use: 13. 6.5KiB allocated for chunks. 6.5KiB in use in bin. 6.5KiB client-requested in use in bin.
2017-11-28 02:20:35.275757: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1024): 	Total Chunks: 1, Chunks in use: 1. 1.2KiB allocated for chunks. 1.2KiB in use in bin. 1.0KiB client-requested in use in bin.
2017-11-28 02:20:35.275767: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2048): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275780: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4096): 	Total Chunks: 5, Chunks in use: 5. 25.0KiB allocated for chunks. 25.0KiB in use in bin. 25.0KiB client-requested in use in bin.
2017-11-28 02:20:35.275790: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8192): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275799: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16384): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275810: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (32768): 	Total Chunks: 1, Chunks in use: 0. 60.5KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275821: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (65536): 	Total Chunks: 6, Chunks in use: 6. 384.0KiB allocated for chunks. 384.0KiB in use in bin. 384.0KiB client-requested in use in bin.
2017-11-28 02:20:35.275831: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (131072): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275840: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (262144): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275850: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (524288): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275859: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (1048576): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275869: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (2097152): 	Total Chunks: 1, Chunks in use: 1. 2.44MiB allocated for chunks. 2.44MiB in use in bin. 2.44MiB client-requested in use in bin.
2017-11-28 02:20:35.275878: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (4194304): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275902: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (8388608): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275913: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (16777216): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275923: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (33554432): 	Total Chunks: 1, Chunks in use: 0. 59.81MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275932: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (67108864): 	Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275942: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (134217728): 	Total Chunks: 51, Chunks in use: 50. 7.84GiB allocated for chunks. 7.63GiB in use in bin. 7.63GiB client-requested in use in bin.
2017-11-28 02:20:35.275952: I tensorflow/core/common_runtime/bfc_allocator.cc:627] Bin (268435456): 	Total Chunks: 1, Chunks in use: 0. 2.64GiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.
2017-11-28 02:20:35.275962: I tensorflow/core/common_runtime/bfc_allocator.cc:643] Bin for 7.48GiB was 256.00MiB, Chunk State: 
2017-11-28 02:20:35.275980: I tensorflow/core/common_runtime/bfc_allocator.cc:649]   Size: 2.64GiB | Requested Size: 1.22MiB | in_use: 0, prev:   Size: 156.25MiB | Requested Size: 156.25MiB | in_use: 1
2017-11-28 02:20:35.275992: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740000 of size 1280
2017-11-28 02:20:35.276001: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740500 of size 256
2017-11-28 02:20:35.276008: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740600 of size 256
2017-11-28 02:20:35.276015: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740700 of size 256
2017-11-28 02:20:35.276022: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740800 of size 256
2017-11-28 02:20:35.276029: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740900 of size 256
2017-11-28 02:20:35.276036: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740a00 of size 256
2017-11-28 02:20:35.276044: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740b00 of size 512
2017-11-28 02:20:35.276051: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740d00 of size 256
2017-11-28 02:20:35.276058: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b740e00 of size 512
2017-11-28 02:20:35.276065: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741000 of size 512
2017-11-28 02:20:35.276072: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b741200 of size 65536
2017-11-28 02:20:35.276080: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b751200 of size 65536
2017-11-28 02:20:35.276087: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b761200 of size 5120
2017-11-28 02:20:35.276095: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b762600 of size 5120
2017-11-28 02:20:35.276102: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763a00 of size 512
2017-11-28 02:20:35.276109: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763c00 of size 256
2017-11-28 02:20:35.276116: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b763d00 of size 5120
2017-11-28 02:20:35.276123: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765100 of size 512
2017-11-28 02:20:35.276131: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765300 of size 256
2017-11-28 02:20:35.276143: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b765400 of size 5120
2017-11-28 02:20:35.276151: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766800 of size 256
2017-11-28 02:20:35.276158: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766900 of size 256
2017-11-28 02:20:35.276165: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766a00 of size 256
2017-11-28 02:20:35.276172: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766b00 of size 256
2017-11-28 02:20:35.276179: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766c00 of size 256
2017-11-28 02:20:35.276185: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766d00 of size 256
2017-11-28 02:20:35.276192: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b766e00 of size 512
2017-11-28 02:20:35.276199: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767000 of size 512
2017-11-28 02:20:35.276206: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767200 of size 512
2017-11-28 02:20:35.276213: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767400 of size 256
2017-11-28 02:20:35.276220: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767500 of size 256
2017-11-28 02:20:35.276227: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767600 of size 256
2017-11-28 02:20:35.276234: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b767700 of size 256
2017-11-28 02:20:35.276240: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b776a00 of size 512
2017-11-28 02:20:35.276247: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b776c00 of size 512
2017-11-28 02:20:35.276254: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b776e00 of size 256
2017-11-28 02:20:35.276261: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b776f00 of size 256
2017-11-28 02:20:35.276268: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b777000 of size 512
2017-11-28 02:20:35.276275: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b777200 of size 512
2017-11-28 02:20:35.276282: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b777400 of size 65536
2017-11-28 02:20:35.276289: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b787400 of size 65536
2017-11-28 02:20:35.276296: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b797400 of size 5120
2017-11-28 02:20:35.276303: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798800 of size 512
2017-11-28 02:20:35.276310: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b798a00 of size 65536
2017-11-28 02:20:35.276317: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7a8a00 of size 65536
2017-11-28 02:20:35.276324: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b0b7b8a00 of size 163840000
2017-11-28 02:20:35.276333: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b18fc9200 of size 2560000
2017-11-28 02:20:35.276341: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b26a4aa00 of size 163840000
2017-11-28 02:20:35.276348: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b3068aa00 of size 163840000
2017-11-28 02:20:35.276355: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b3a2caa00 of size 163840000
2017-11-28 02:20:35.276362: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b43f0aa00 of size 163840000
2017-11-28 02:20:35.276369: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b4db4aa00 of size 163840000
2017-11-28 02:20:35.276377: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b5778aa00 of size 163840000
2017-11-28 02:20:35.276384: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b613caa00 of size 163840000
2017-11-28 02:20:35.276395: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b6b00aa00 of size 163840000
2017-11-28 02:20:35.276403: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b74c4aa00 of size 163840000
2017-11-28 02:20:35.276410: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b7e88aa00 of size 163840000
2017-11-28 02:20:35.276417: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b884caa00 of size 163840000
2017-11-28 02:20:35.276424: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b9210aa00 of size 163840000
2017-11-28 02:20:35.276432: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1b9bd4aa00 of size 163840000
2017-11-28 02:20:35.276439: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ba598aa00 of size 163840000
2017-11-28 02:20:35.276446: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1baf5caa00 of size 163840000
2017-11-28 02:20:35.276453: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bb920aa00 of size 163840000
2017-11-28 02:20:35.276460: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bc2e4aa00 of size 163840000
2017-11-28 02:20:35.276467: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bcca8aa00 of size 163840000
2017-11-28 02:20:35.276474: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bd66caa00 of size 163840000
2017-11-28 02:20:35.276482: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1be030aa00 of size 163840000
2017-11-28 02:20:35.276489: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1be9f4aa00 of size 163840000
2017-11-28 02:20:35.276496: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bf3b8aa00 of size 163840000
2017-11-28 02:20:35.276503: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1bfd7caa00 of size 163840000
2017-11-28 02:20:35.276510: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c0740aa00 of size 163840000
2017-11-28 02:20:35.276517: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c1104aa00 of size 163840000
2017-11-28 02:20:35.276525: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c1ac8aa00 of size 163840000
2017-11-28 02:20:35.276532: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c248caa00 of size 163840000
2017-11-28 02:20:35.276539: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c2e50aa00 of size 163840000
2017-11-28 02:20:35.276546: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c3814aa00 of size 163840000
2017-11-28 02:20:35.276553: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c41d8aa00 of size 163840000
2017-11-28 02:20:35.276560: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c4b9caa00 of size 163840000
2017-11-28 02:20:35.276567: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5560aa00 of size 163840000
2017-11-28 02:20:35.276575: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c5f24aa00 of size 163840000
2017-11-28 02:20:35.276582: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c68e8aa00 of size 163840000
2017-11-28 02:20:35.276589: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c72acaa00 of size 163840000
2017-11-28 02:20:35.276596: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c7c70aa00 of size 163840000
2017-11-28 02:20:35.276603: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c8634aa00 of size 163840000
2017-11-28 02:20:35.276610: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c8ff8aa00 of size 163840000
2017-11-28 02:20:35.276618: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1c99bcaa00 of size 163840000
2017-11-28 02:20:35.276630: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ca380aa00 of size 163840000
2017-11-28 02:20:35.276642: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cad44aa00 of size 163840000
2017-11-28 02:20:35.276650: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cb708aa00 of size 163840000
2017-11-28 02:20:35.276657: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cc0ccaa00 of size 163840000
2017-11-28 02:20:35.276664: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cca90aa00 of size 163840000
2017-11-28 02:20:35.276672: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cd454aa00 of size 163840000
2017-11-28 02:20:35.276679: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cde18aa00 of size 163840000
2017-11-28 02:20:35.276686: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1ce7dcaa00 of size 163840000
2017-11-28 02:20:35.276693: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cf1a0aa00 of size 163840000
2017-11-28 02:20:35.276700: I tensorflow/core/common_runtime/bfc_allocator.cc:661] Chunk at 0x1cfb64aa00 of size 163840000
2017-11-28 02:20:35.276708: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b0b767800 of size 61952
2017-11-28 02:20:35.276715: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b153f8a00 of size 62720000
2017-11-28 02:20:35.276723: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1b1923a200 of size 226560000
2017-11-28 02:20:35.276738: I tensorflow/core/common_runtime/bfc_allocator.cc:670] Free at 0x1d0528aa00 of size 2839618048
2017-11-28 02:20:35.276745: I tensorflow/core/common_runtime/bfc_allocator.cc:676]      Summary of in-use Chunks by size: 
2017-11-28 02:20:35.276754: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 21 Chunks of size 256 totalling 5.2KiB
2017-11-28 02:20:35.276764: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 13 Chunks of size 512 totalling 6.5KiB
2017-11-28 02:20:35.276772: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 1280 totalling 1.2KiB
2017-11-28 02:20:35.276781: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 5 Chunks of size 5120 totalling 25.0KiB
2017-11-28 02:20:35.276790: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 6 Chunks of size 65536 totalling 384.0KiB
2017-11-28 02:20:35.276799: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 1 Chunks of size 2560000 totalling 2.44MiB
2017-11-28 02:20:35.276808: I tensorflow/core/common_runtime/bfc_allocator.cc:679] 50 Chunks of size 163840000 totalling 7.63GiB
2017-11-28 02:20:35.276816: I tensorflow/core/common_runtime/bfc_allocator.cc:683] Sum Total of in-use chunks: 7.63GiB
2017-11-28 02:20:35.276828: I tensorflow/core/common_runtime/bfc_allocator.cc:685] Stats: 
Limit:                 11323952333
InUse:                  8194992128
MaxInUse:               8360112128
NumAllocs:                     765
MaxAllocSize:            163840000

2017-11-28 02:20:35.276843: W tensorflow/core/common_runtime/bfc_allocator.cc:277] ***_***********************************************************************_________________________
2017-11-28 02:20:35.276868: W tensorflow/core/framework/op_kernel.cc:1192] Resource exhausted: OOM when allocating tensor with shape[49,320000,128]
Traceback (most recent call last):
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1323, in _do_call
    return fn(*args)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1302, in _run_fn
    status, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py", line 473, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[49,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 123, in train
    accuracy_value = sess.run(accuracy, feed_dict=feed_dict)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 889, in run
    run_metadata_ptr)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1120, in _run
    feed_dict_tensor, options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1317, in _do_run
    options, run_metadata)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/client/session.py", line 1336, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[49,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

Caused by op 'scan_1/TensorArrayStack/TensorArrayGatherV3', defined at:
  File "train.py", line 165, in <module>
    train(config)
  File "train.py", line 74, in train
    logits_test = model.compute_logits_test(input_placeholder, config.batch_size*config.train_steps)
  File "/nfs/home6/sdemo133/deep_lerning/assignment_2/part1/vanilla_rnn.py", line 74, in compute_logits_test
    states = tf.scan(self._rnn_step, x, initializer=init_state)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in scan
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/functional_ops.py", line 586, in <listcomp>
    results_flat = [r.stack() for r in r_a]
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 335, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/tensor_array_ops.py", line 361, in gather
    element_shape=element_shape)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4158, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 2956, in create_op
    op_def=op_def)
  File "/home/sdemo133/.local/lib/python3.5/site-packages/tensorflow/python/framework/ops.py", line 1470, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

ResourceExhaustedError (see above for traceback): OOM when allocating tensor with shape[49,320000,128]
	 [[Node: scan_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@scan_1/TensorArray_1"], dtype=DT_FLOAT, element_shape=[320000,128], _device="/job:localhost/replica:0/task:0/device:GPU:0"](scan_1/TensorArray_1, scan_1/TensorArrayStack/range, scan_1/while/Exit_2)]]
	 [[Node: Mean/_11 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnation=1, tensor_name="edge_112_Mean", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]

